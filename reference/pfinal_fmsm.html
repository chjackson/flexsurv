<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Probabilities of final states in a flexible parametric competing risks model — pfinal_fmsm • flexsurv</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Probabilities of final states in a flexible parametric competing risks model — pfinal_fmsm"><meta name="description" content="This requires the model to be Markov, and is not valid for semi-Markov
models, as it works by wrapping pmatrix.fs to calculate the
transition probability over a very large time.    As it also works on a
fmsm object formed from transition-specific time-to-event models,
it therefore only works on competing risks models, defined by just one starting
state with multiple destination states representing competing events.
For these models, this function returns the probability governing which
competing event happens next.   However this function simply wraps pmatrix.fs,
so for other models, pmatrix.fs or pmatrix.simfs can be used with a
large forecast time t."><meta property="og:description" content="This requires the model to be Markov, and is not valid for semi-Markov
models, as it works by wrapping pmatrix.fs to calculate the
transition probability over a very large time.    As it also works on a
fmsm object formed from transition-specific time-to-event models,
it therefore only works on competing risks models, defined by just one starting
state with multiple destination states representing competing events.
For these models, this function returns the probability governing which
competing event happens next.   However this function simply wraps pmatrix.fs,
so for other models, pmatrix.fs or pmatrix.simfs can be used with a
large forecast time t."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">flexsurv</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.3.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/pdf.html">flexsurv PDF vignettes</a></li>
    <li><a class="dropdown-item" href="../articles/standsurv.html">Calculating standardized survival measures in flexsurv</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/chjackson/flexsurv/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Probabilities of final states in a flexible parametric competing risks model</h1>
      <small class="dont-index">Source: <a href="https://github.com/chjackson/flexsurv/blob/master/R/mstate.R" class="external-link"><code>R/mstate.R</code></a></small>
      <div class="d-none name"><code>pfinal_fmsm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This requires the model to be Markov, and is not valid for semi-Markov
models, as it works by wrapping <code><a href="pmatrix.fs.html">pmatrix.fs</a></code> to calculate the
transition probability over a very large time.    As it also works on a
<code>fmsm</code> object formed from transition-specific time-to-event models,
it therefore only works on competing risks models, defined by just one starting
state with multiple destination states representing competing events.
For these models, this function returns the probability governing which
competing event happens next.   However this function simply wraps <code>pmatrix.fs</code>,
so for other models, <code>pmatrix.fs</code> or <code>pmatrix.simfs</code> can be used with a
large forecast time <code>t</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pfinal_fmsm</span><span class="op">(</span><span class="va">x</span>, newdata <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">fromstate</span>, maxt <span class="op">=</span> <span class="fl">1e+05</span>, B <span class="op">=</span> <span class="fl">0</span>, cores <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Object returned by <code><a href="fmsm.html">fmsm</a></code>, representing a multi-state
model formed from transition-specific time-to-event models fitted by
<code><a href="flexsurvreg.html">flexsurvreg</a></code>.</p></dd>


<dt id="arg-newdata">newdata<a class="anchor" aria-label="anchor" href="#arg-newdata"></a></dt>
<dd><p>Data frame of covariate values, with one column per
covariate, and one row per alternative value.</p></dd>


<dt id="arg-fromstate">fromstate<a class="anchor" aria-label="anchor" href="#arg-fromstate"></a></dt>
<dd><p>State from which to calculate the transition probability
state.  This should refer to the name of a row of the transition matrix
<code>attr(x,trans)</code>.</p></dd>


<dt id="arg-maxt">maxt<a class="anchor" aria-label="anchor" href="#arg-maxt"></a></dt>
<dd><p>Large time to use for forecasting final state probabilities.
The transition probability from zero to this time is used.  Note
<code>Inf</code> will not work. The default is <code>100000</code>.</p></dd>


<dt id="arg-b">B<a class="anchor" aria-label="anchor" href="#arg-b"></a></dt>
<dd><p>Number of simulations to use to calculate 95% confidence intervals
based on the asymptotic normal distribution of the basic parameter
estimates. If <code>B=0</code> then no intervals are calculated.</p></dd>


<dt id="arg-cores">cores<a class="anchor" aria-label="anchor" href="#arg-cores"></a></dt>
<dd><p>Number of processor cores to use.  If <code>NULL</code> (the default)
then a single core is used.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with one row per covariate value and destination state,
  giving the state in column <code>state</code>, and probability in column
  <code>val</code>. Additional columns <code>lower</code> and <code>upper</code> for the
  confidence limits are returned if <code>B=0</code>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christopher Jackson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

