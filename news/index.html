<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • flexsurv</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">flexsurv</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/pdf.html">flexsurv PDF vignettes</a>
    <a class="dropdown-item" href="../articles/standsurv.html">Calculating standardized survival measures in flexsurv</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/chjackson/flexsurv/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/chjackson/flexsurv/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3" id="version-23-2023--">Version 2.3 (2023-??-??)<a class="anchor" aria-label="anchor" href="#version-23-2023--"></a></h2>
<ul><li><p>Analytic Hessian calculation for models where this is possible, that is, Weibull, Gompertz, exponential, and spline models in hazard and odds scales.</p></li>
<li><p>Analytic gradient calculation for Weibull proportional hazards models.</p></li>
<li><p>Weighted likelihood for relative survival models now implemented consistently with other models, as a weighted sum of individual log-likelihoods.</p></li>
<li><p><code>pmatrix.simfs</code> can now accept a vector of times <code>t</code> and has a <code>tidy</code> output option.</p></li>
<li><p><code>BIC</code> and <code>AICc</code> functions added.</p></li>
<li><p>Column name of <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> output changed from <code>"time"</code> to <code>"eval_time"</code>, for consistency with tidymodels update.</p></li>
<li><p>Default value for <code>t</code> now chosen in <code>hr_flexsurvreg</code>.</p></li>
<li><p><code>coxsnell.flexsurvreg</code> now handles delayed entry.</p></li>
<li><p>Quantiles of standardised survival now available in <code>standsurv</code>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.2" id="version-222-2023-01-31">Version 2.2.2 (2023-01-31)<a class="anchor" aria-label="anchor" href="#version-222-2023-01-31"></a></h2><p class="text-muted">CRAN release: 2023-02-01</p>
<ul><li>Allow unicode characters in vignette, to satisfy R CMD check on r-devel.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.1" id="version-221-2022-12-22">Version 2.2.1 (2022-12-22)<a class="anchor" aria-label="anchor" href="#version-221-2022-12-22"></a></h2><p class="text-muted">CRAN release: 2022-12-22</p>
<ul><li><p>New <code>simulate.flexsurvreg</code> method to simulate data from a fitted flexsurvreg or flexsurvspline model. Thanks to Mark Clements for help with this.</p></li>
<li><p>Fix of bug for <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method with type = <code>"quantile"</code> or <code>"median"</code> and left-truncation in the prediction (<code>start</code> &gt; 0).</p></li>
<li><p>Correction to the examples and interpretation of Cox-Snell residuals.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2" id="version-22-2022-06-16">Version 2.2 (2022-06-16)<a class="anchor" aria-label="anchor" href="#version-22-2022-06-16"></a></h2><p class="text-muted">CRAN release: 2022-06-17</p>
<ul><li><p>New function <code>standsurv</code> for survival and hazards standardised over an observed distribution for covariates. Contributed by Michael Sweeting <a href="mailto:mikesweeting79@gmail.com" class="email">mikesweeting79@gmail.com</a>. See the new vignette about it.</p></li>
<li><p>New function <code>hr_flexsurvreg</code> to compute the hazard ratio from a fitted flexsurvreg or flexsurvspline model as a function of time, with confidence intervals.</p></li>
<li>
<p><code>summary.flexsurvreg</code> has been rewritten to make it cleaner and faster. User-visible changes:</p>
<ul><li><p>Custom summary functions in <code>summary.flexsurvreg</code> must now be vectorised.</p></li>
<li><p>A new argument <code>cross</code> specifies whether to compute summaries for all combinations of times t and covariate values, or for covariate values matched with corresponding times t, in custom summary functions.</p></li>
<li><p>Covariate names when <code>tidy=FALSE</code> now consistently don’t include spaces.</p></li>
</ul></li>
<li><p>Better handling of NAs in summary and prediction functions. Thanks to Matthew Warkentin.</p></li>
<li><p>New functions for Cox-Snell residuals: <code>coxsnell_flexsurvreg</code> or residuals(…, type=“coxsnell”).</p></li>
<li><p><code>rmst_generic</code>, <code>mean_survspline</code>, <code>rmst_survspline</code> and related functions (e.g. <code>mean_survspline1</code>) handle alternative parameter values in a vectorised way.</p></li>
<li><p>Allow output functions to work on models that have been stripped of data with <code>x$data &lt;- NULL</code>, if possible.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1" id="version-21-2021-09-13">Version 2.1 (2021-09-13)<a class="anchor" aria-label="anchor" href="#version-21-2021-09-13"></a></h2><p class="text-muted">CRAN release: 2021-09-13</p>
<ul><li><p>Fix of a bug that affected models with baseline hazard offsets and exponential, Weibull, Gompertz and hazard/odds-based spline models, where convergence may have been falsely reported due to incorrect likelihood derivatives.</p></li>
<li><p>New vignette section and better help page documentation about relative survival models.</p></li>
<li><p><code>start</code> parameter added to <code>predict.flexsurvreg</code>.</p></li>
<li><p>New function <code>pdf_flexsurmix</code> for the fitted density function in a <code>flexsurvmix</code> model.</p></li>
<li><p>Fix for tidy method with one-parameter exponential models.</p></li>
<li><p>Fixes for <code>h/Hgamma</code> and <code>h/Hlnorm</code> with <code>log = TRUE</code>.</p></li>
<li><p>Minor numerical improvements to <code>h/H</code> functions for some distributions.</p></li>
<li><p>Bug fix for <code>simfs_bytrans</code> when some transitions don’t happen.</p></li>
<li><p><code>NaNs produced</code> warnings should occur less often during fitting.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0" id="version-20-2021-02-22">Version 2.0 (2021-02-22)<a class="anchor" aria-label="anchor" href="#version-20-2021-02-22"></a></h2><p class="text-muted">CRAN release: 2021-02-22</p>
<ul><li><p>A new class of multi-state models based on mixtures (Larson and Dinse 1985). A new vignette on multi-state modelling describes this model class and contrasts it with standard (cause-specific hazards) multi-state models.</p></li>
<li><p>Different parametric families are now supported for different transitions in multi-state models.</p></li>
<li><p>New function <code>fmsm</code> allows a list of flexsurvreg objects to be associated with a particular transition structure matrix, to create a multi-state model.</p></li>
<li><p>New function <code>simfinal_fmsm</code> to summarise times and probabilities of final absorbing events in multi-state models, using simulation.</p></li>
<li><p>More features for right-truncated data. Individual-level right-truncation times supported with new “rtrunc” argument to flexsurvreg and flexsurvspline. A comparable non-parametric estimator for right-truncated data is provided in a new function, <code>survrtrunc</code>. Alternative parametric estimators, which make use of the time of an initiating event, are provided in a new function, <code>flexsurvrtrunc</code>.</p></li>
<li><p>A new vignette describes properties of the different built-in parametric distributions in more detail.</p></li>
<li><p><code>qgeneric</code> is now vectorised, thanks to the <code>vuniroot</code> function imported from the <code>rstpm2</code> package by Mark Clements. This massively boosts the speed of <code>rsurvspline</code>, hence speeding up simulations from spline-based multi-state models.</p></li>
<li><p><code>pmatrix.fs</code> can now calculate transition probabilities conditionally on the the transition being to one of a subset of the states.</p></li>
<li><p>“tidy” argument to <code>pmatrix.fs</code> for tidy data frame output.</p></li>
<li><p>“tidy” argument to <code>sim.fmsm</code> for returning simulations in tidy data frame format with one row per transition, and associated function <code>simfs_bytrans</code>.</p></li>
<li><p>Bootstrapping function <code>bootci.fmsm</code> made available for users to get confidence intervals / distributions for their own flexsurv model output functions.</p></li>
<li><p>Parallel processing capability for bootstrap confidence intervals.</p></li>
<li><p>Distribution and mean functions for the Royston-Parmar model named like <code>dsurvspline2</code>, <code>psurvspline4</code> and so on, with one argument per parameter, rather than all parameters collected in a single argument, going up to 7 knots / 9 parameters.</p></li>
<li><p>Return value from <code>pars.fmsm</code> is now a list rather than a matrix, even if the model family is the same for each transition.</p></li>
<li><p><code>summary.flexsurvreg</code> given a new argument “na.action” to control whether missing values in “newdata” are dropped. Defaults to producing summaries of <code>NA</code> when there are missing values, while previously missing values were dropped.</p></li>
<li><p>S3 methods have been added for the generics defined in the broom package. These functions create tidy data frames containing the results of fitted models. The new functions are <code>tidy.flexsurvreg</code>, <code>glance.flexsurvreg</code>, and <code>augment.flexsurvreg</code>.</p></li>
<li><p>S3 methods have been added for the predict and residuals generics. <code>predict.flexsurvreg</code> has full support for all model outcomes supported by <code>summary.flexsurvreg</code>. <code>residuals.flexsurvreg</code> currently only supports a naive difference between observed survival and predicted mean, neglecting censoring.</p></li>
<li><p>Case weights accounted for in nonparametric survival and cumulative hazard estimates in <code>plot.flexsurvreg</code>. Thanks to <a href="https://github.com/andbe" class="external-link uri">https://github.com/andbe</a>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.1" id="version-111-2019-03-18">Version 1.1.1 (2019-03-18)<a class="anchor" aria-label="anchor" href="#version-111-2019-03-18"></a></h2><p class="text-muted">CRAN release: 2019-03-18</p>
<ul><li><p>New type=“quantiles” and type=“link” for summary.flexsurvreg. Thanks to Leonardo Marques for the contribution.</p></li>
<li><p>Allow different covariates per transition in multi-state models supplied as a list of flexsurvreg objects. Thanks to David McAllister for the contribution.</p></li>
<li><p>Bug fix for qllogis with lower.tail=FALSE.</p></li>
<li><p>Bug fix for likelihood when all events are observed.</p></li>
<li><p>Bug fix for “ylim” argument in plot method for survival or cumulative hazard.</p></li>
<li><p>Allow dynamic symbols in C code.</p></li>
<li><p>Various other minor code and doc fixes, see github commit history.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1" id="version-11-2017-03-27">Version 1.1 (2017-03-27)<a class="anchor" aria-label="anchor" href="#version-11-2017-03-27"></a></h2><p class="text-muted">CRAN release: 2017-03-27</p>
<ul><li><p>Substantial speed improvements in fitting most of the built-in models, from implementing their PDFs and CDFs in C++. Thanks to Paul Metcalfe for contributing this. Results may therefore differ from previous versions in edge cases.</p></li>
<li><p>As a result the package now depends on Rcpp.</p></li>
<li><p>Mean, median and restricted mean included as built-in functions in summary.flexsurvreg. Thanks to Jordan Amdahl for the contribution.</p></li>
<li><p>Documentation migrated to roxygen. Thanks to Paul Metcalfe for the contribution.</p></li>
<li><p>Various minor bug fixes, see github commits.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.2" id="version-102-2016-09-26">Version 1.0.2 (2016-09-26)<a class="anchor" aria-label="anchor" href="#version-102-2016-09-26"></a></h2>
<ul><li><p>Bug fix: “start” was being ignored by plot.flexsurvreg. Thanks to Ruth Keogh.</p></li>
<li><p>Built-in distribution names are now case-insensitive. Thanks to Jordan Amdahl.</p></li>
<li><p>Fix for Weibull hazard function to avoid numeric instability. Thanks to Jordan Amdahl.</p></li>
<li><p>Fix to hsurvspline when t includes 0. Thanks to Jordan Amdahl.</p></li>
<li><p>Vectorised parameters supported in qgeneric.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="version-101-2016-05-31">Version 1.0.1 (2016-05-31)<a class="anchor" aria-label="anchor" href="#version-101-2016-05-31"></a></h2>
<ul><li>Bug fix: covariates were labelled wrongly in summary.flexsurvreg tidy output. Thanks to Owain Saunders.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="version-100-2016-05-10">Version 1.0.0 (2016-05-10)<a class="anchor" aria-label="anchor" href="#version-100-2016-05-10"></a></h2><p class="text-muted">CRAN release: 2016-05-11</p>
<ul><li>Version number bumped to 1.0.0 to accompany the publication of the vignette in Journal of Statistical Software.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.1" id="version-071-2016-03-24">Version 0.7.1 (2016-03-24)<a class="anchor" aria-label="anchor" href="#version-071-2016-03-24"></a></h2><p class="text-muted">CRAN release: 2016-03-24</p>
<ul><li><p>Slightly more efficient likelihood calculations, and removed spurious warning from likelihood with interval censoring.</p></li>
<li><p>Tests modified to work with the latest (and current) testthat.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7" id="version-07-2015-11-13">Version 0.7 (2015-11-13)<a class="anchor" aria-label="anchor" href="#version-07-2015-11-13"></a></h2><p class="text-muted">CRAN release: 2015-11-13</p>
<ul><li><p>flexsurvspline now allows the log cumulative hazard (or its alternatives) to be modelled as a spline function of time instead of log time.</p></li>
<li><p>The routine for generating initial values in flexsurvspline has been improved. This now obeys the constraint that the log cumulative hazard is increasing, thus avoiding errors from optim() when this wasn’t satisfied. Cox regression is used as a fallback to initialise covariate effects if this fails.</p></li>
<li><p>As a result, flexsurv now depends on the “quadprog” package.</p></li>
<li><p>dweibullPH and related functions give the Weibull distribution in proportional hazards parameterisation, and “weibullPH” is supported as a built-in model for flexsurvreg.</p></li>
<li><p>Option to summary.flexsurvreg to return a tidy data frame.</p></li>
<li><p>New “logliki” component in model objects, containing vector of log-likelihoods for each observation at the estimated or fixed parameters.</p></li>
<li><p>Fix of various bugs with supplying “newdata” to summary functions (github issue <a href="https://github.com/chjackson/flexsurv/issues/7" class="external-link">#7</a>). The behaviour here should now be like predict.lm, e.g. variables in newdata that were originally factors should be supplied as factor or character, not numeric.</p></li>
<li><p>Fix of bug that prevented plots being drawn by categorical covariates by default.</p></li>
<li><p>Fix of bugs with spline models and no data censored, or all data interval censored (github issue <a href="https://github.com/chjackson/flexsurv/issues/3" class="external-link">#3</a>).</p></li>
<li><p>Fix of bugs with subsetting in flexsurvspline (github issue <a href="https://github.com/chjackson/flexsurv/issues/6" class="external-link">#6</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6" id="version-06-2015-04-13">Version 0.6 (2015-04-13)<a class="anchor" aria-label="anchor" href="#version-06-2015-04-13"></a></h2><p class="text-muted">CRAN release: 2015-04-14</p>
<ul><li><p>CRAN release. Also includes the changes from Version 0.5.1.</p></li>
<li><p>Full support for multi-state models fitted as a list of independent transition-specific models.</p></li>
<li><p>New function pars.fmsm to return transition-specific parameters in multi-state models.</p></li>
<li><p>Bug fix for empirical hazard plots with categorical covariates. Thanks to Milan Bouchet-Valat.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.1" id="version-051-2015-02-24">Version 0.5.1 (2015-02-24)<a class="anchor" aria-label="anchor" href="#version-051-2015-02-24"></a></h2>
<ul><li><p>github-only release.</p></li>
<li><p>Log-logistic distribution built in to flexsurvreg, and distribution functions provided.</p></li>
<li><p>Bug fix in tcovs option in semi-Markov model simulation.</p></li>
<li><p>“digits” argument supported by default model print function. This is passed to “format” to format the parameter estimates, and defaults to 3.</p></li>
<li><p>Bug fix in “events” printed output for interval censored data. Thanks to Sabrina Russo.</p></li>
<li><p>pgompertz returns Inf for q=Inf, even for parameters denoting “living forever”, since the CDF is P(X &lt;= q) not P(X &lt; q). This affected some fits of the Gompertz distribution.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5" id="version-05-2014-09-22">Version 0.5 (2014-09-22)<a class="anchor" aria-label="anchor" href="#version-05-2014-09-22"></a></h2><p class="text-muted">CRAN release: 2014-09-22</p>
<ul><li><p>Major new release, so version number bumped from 0.3 to 0.5.</p></li>
<li><p>New package vignettes: a user guide and a vignette of examples.</p></li>
<li><p>Development moved from r-forge to <a href="https://github.com/chjackson/flexsurv-dev" class="external-link uri">https://github.com/chjackson/flexsurv-dev</a>.</p></li>
</ul><p>Spline models and ancillary covariates:</p>
<ul><li><p>Major rewrite of flexsurvspline. This now works by calling flexsurvreg with a custom distribution written dynamically. Models can now include covariate effects that vary as spline functions of time, by including covariates on “gamma1” or on any further parameters.</p></li>
<li><p>New argument “anc” to flexsurvreg, as an alternative and preferred way of modelling covariates on ancillary parameters.</p></li>
<li><p>New general utility “unroll.function” which converts a function with matrix arguments to the equivalent function with vector arguments. The new flexsurvspline works by unrolling “dsurvspline”.</p></li>
<li><p>Quantile, random number, hazard and cumulative hazard functions for spline distribution.</p></li>
<li><p>Autogeneration of initial values for flexsurvspline now accounts for left-truncation. Thanks to Ana Borges for the report.</p></li>
</ul><p>Other new modelling features:</p>
<ul><li><p>Several utilities for parametric multi-state modelling, including transition probabilities and simulation (“pmatrix.fs”, “totlos.fs”, “sim.fmsm”,“pmatrix.simfs”, “totlos.simfs”). An “msfit.flexsurvreg” method also gives cumulative transition-specific hazards in the format of the “mstate” package.</p></li>
<li><p>Interval censoring supported in the Surv() response.</p></li>
<li><p>Relative survival models, using the “bhazard” argument to flexsurvreg to specify the expected mortality rate.</p></li>
<li><p>flexsurvreg now uses survreg internally to fit Weibull, exponential and log-normal models, unless there is left-truncation.</p></li>
</ul><p>Custom distributions:</p>
<ul><li><p>Custom distributions can be defined through the hazard function. This can be optionally supplemented with the cumulative hazard function, otherwise this is obtained by numerical integration.</p></li>
<li><p>In custom distributions specified by the density, the cumulative distribution can now be omitted, and it will be calculated by numerical integration.</p></li>
<li><p>New arguments “dfns” and “aux” to flexsurvreg, which can be used to supply custom distribution functions and arguments to pass to them.</p></li>
<li><p>Document that density functions for custom distributions need “log” argument.</p></li>
<li><p>Documented how to supply derivatives of custom distributions for use in optimisation.</p></li>
</ul><p>Output functions:</p>
<ul><li><p>New “newdata” argument to summary.flexsurvreg and plot.flexsurvreg for an easier way of supplying covariate values.</p></li>
<li><p>User-defined summary functions can be used in summary.flexsurvreg and plot.flexsurvreg as an alternative to survival, hazard or cumulative hazard.</p></li>
<li><p>New function “normboot.flexsurvreg” to simulate parameters from the asymptotic normal distribution of their estimates. Used for representing uncertainty in any function of the parameters.</p></li>
<li><p>summary.flexsurvreg can be called with ci=FALSE to omit confidence intervals.</p></li>
<li><p>“start” argument defaults to 0 for all prediction times in summary.flexsurvreg.</p></li>
<li><p>Bug fix in summary.flexsurvreg for left-truncated models, which was returning probabilities &gt; 1 before the truncation time.</p></li>
<li><p>New model.frame and model.matrix methods to extract the data from fitted flexsurvreg objects.</p></li>
<li><p>Accept vector X in summary.flexsurvreg, and give informative error if X in wrong format. Thanks to Mark Danese.</p></li>
<li><p>Extra arguments can be passed to both muhaz and plot.muhaz in plot.flexsurvreg(…,type=“hazard”,…)</p></li>
</ul><p>Printed output:</p>
<ul><li><p>Use format() not signif() for printing flexsurvreg objects, to avoid spurious zero significant figures. Thanks to Kenneth Chen.</p></li>
<li><p>Standard errors included in printed output of flexsurvreg, but only for parameters optimised on natural or log scales (which includes all built-in distributions).</p></li>
</ul><p>Distribution functions:</p>
<ul><li><p>Bug fix in rgengamma for Q=0 (log-normal) and sigma not equal to 1.</p></li>
<li><p>Don’t warn for shape parameters being exactly zero in generalized gamma and F, just give NaN.</p></li>
<li><p>basis() and fss() functions for the natural cubic spline basis made available to users.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1" id="version-031-2014-02-14">Version 0.3.1 (2014-02-14)<a class="anchor" aria-label="anchor" href="#version-031-2014-02-14"></a></h2>
<ul><li><p>R-forge only release.</p></li>
<li><p>Distribution functions tidied up, making special value handling and vectorisation consistent. Hazard and cumulative hazard functions for all supported distributions.</p></li>
<li><p>Vectors of different col, lwd and lty can be passed to plot.flexsurvreg for multiple fitted lines. Thanks to Julia Sandberg for the report.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3" id="version-03-2014-01-19">Version 0.3 (2014-01-19)<a class="anchor" aria-label="anchor" href="#version-03-2014-01-19"></a></h2><p class="text-muted">CRAN release: 2014-01-20</p>
<ul><li>CRAN release. Includes changes from 0.2.1 to 0.2.3.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3" id="version-023-2013-10-09">Version 0.2.3 (2013-10-09)<a class="anchor" aria-label="anchor" href="#version-023-2013-10-09"></a></h2>
<ul><li><p>R-forge only release.</p></li>
<li><p>Parameters other than the location parameter can now have covariates on them in flexsurvreg. Thanks to Milan Bouchet-Valat for help with this.</p></li>
<li><p>subset and na.action arguments in flexsurvreg and flexsurvspline.</p></li>
<li><p>coef, vcov and confint methods for all fitted model objects.</p></li>
<li><p>Distribution functions for generalized gamma, generalized F, and Gompertz, now allow all parameters to be vectorised.</p></li>
<li><p>Bug fix in analytic derivatives for Weibull.</p></li>
<li><p>Restored print output introduced in 0.1.2 which had been accidentally removed in 0.1.5.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.2" id="version-022-2013-07-26">Version 0.2.2 (2013-07-26)<a class="anchor" aria-label="anchor" href="#version-022-2013-07-26"></a></h2>
<ul><li><p>R-forge only release.</p></li>
<li><p>Case weights supported in flexsurvreg and flexsurvspline.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="version-021-2013-07-03">Version 0.2.1 (2013-07-03)<a class="anchor" aria-label="anchor" href="#version-021-2013-07-03"></a></h2>
<ul><li><p>R-forge only release.</p></li>
<li><p>Default left truncation times were being set wrongly for user-supplied times in summary.flexsurvreg, giving wrong confidence intervals. These now default to 0.</p></li>
<li><p>Confidence intervals set to 1 for t=0 under spline models. Thanks to Paul Pynsent.</p></li>
<li><p>dgompertz,dgengamma,dgengamma.orig,dgenf,dgenf.orig fixed to return -Inf instead of 0 when density is zero and log=TRUE. Thanks to Gao Zheng.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2" id="version-02-2013-05-13">Version 0.2 (2013-05-13)<a class="anchor" aria-label="anchor" href="#version-02-2013-05-13"></a></h2><p class="text-muted">CRAN release: 2013-05-15</p>
<ul><li><p>New summary() method for fitted flexsurvreg and flexsurvspline model objects gives fitted survival, cumulative hazard or hazard curves, with confidence intervals mosly computed by a simulation method.</p></li>
<li><p>This allows plot.flexsurvreg to plot confidence intervals for the fitted survival, hazard or cumulative hazard.</p></li>
<li><p>Left-truncated survival observations are supported in flexsurvreg and flexsurvspline.</p></li>
<li><p>New psurvspline and dsurvspline functions giving distribution and density function for the spline model.</p></li>
<li><p>Analytic derivatives used in optimisation for spline (odds and hazard scale, not normal), exponential, Weibull and Gompertz models.</p></li>
<li><p>Default to BFGS optimisation method, which uses derivatives where available and should be much faster, instead of Nelder-Mead.</p></li>
<li><p>Work around NaN warnings from spline models presumably due to parameters violating implicit constraints.</p></li>
<li><p>If “knots” specified, boundary knots set to min/max of uncensored times, not all times, to match results when “k” is specified. Thanks to Paul Pynsent.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.5" id="version-015-2012-08-29">Version 0.1.5 (2012-08-29)<a class="anchor" aria-label="anchor" href="#version-015-2012-08-29"></a></h2><p class="text-muted">CRAN release: 2012-08-29</p>
<ul><li><p>Data are now stored in fitted flexsurvreg and flexsurvspline model objects, avoiding environment search errors and allowing package functions to be called within other functions. Thanks to Hanna Daniel for the report.</p></li>
<li><p>Gompertz documentation clarified for the case when there is a chance of living forever. qgompertz and rgompertz now return Inf in these cases, with no warning, instead of NaN. Thanks to Michael Sweeting.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.4" id="version-014-2012-03-22">Version 0.1.4 (2012-03-22)<a class="anchor" aria-label="anchor" href="#version-014-2012-03-22"></a></h2><p class="text-muted">CRAN release: 2012-03-24</p>
<ul><li><p>maxt argument in plot.flexsurvreg.</p></li>
<li><p>Plots no longer complain if data named “dat”.</p></li>
<li><p>Corrected wrong bug fix from Version 0.1.3 for transforming parameter estimates in output when fixedpars=TRUE.</p></li>
<li><p>AIC penalty corrected for models with some fixed parameters.</p></li>
<li><p>qgengamma corrected for parameter Q&lt;0. Thanks to Benn Ackley.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.3" id="version-013-2012-01-17">Version 0.1.3 (2012-01-17)<a class="anchor" aria-label="anchor" href="#version-013-2012-01-17"></a></h2><p class="text-muted">CRAN release: 2012-01-17</p>
<ul><li><p>No longer complains about invalid initial values when there are zero survival times.</p></li>
<li><p>Don’t transform parameter estimates in output when fixedpars=TRUE.</p></li>
<li><p>Checking functions for distribution utilities don’t complain about vectorised parameter values.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.2" id="version-012-2011-11-08">Version 0.1.2 (2011-11-08)<a class="anchor" aria-label="anchor" href="#version-012-2011-11-08"></a></h2><p class="text-muted">CRAN release: 2011-11-09</p>
<ul><li><p>Initial CRAN release.</p></li>
<li><p>More features in print output for flexsurvreg and flexsurvspline models.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="version-011-2011-04-19">Version 0.1.1 (2011-04-19)<a class="anchor" aria-label="anchor" href="#version-011-2011-04-19"></a></h2>
<ul><li>Fix of drop=FALSE bug in flexsurvspline.inits which caused flexsurvspline to fail with single covariates.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1" id="version-01-2011-03-14">Version 0.1 (2011-03-14)<a class="anchor" aria-label="anchor" href="#version-01-2011-03-14"></a></h2>
<p>Initial release</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Christopher Jackson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

